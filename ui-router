var app = angular.module('app', ['ui.router','oc.lazyLoad']);
app.config(function ($stateProvider, $urlRouterProvider) {//页面路由配置
    $urlRouterProvider.otherwise('/home');
    $stateProvider
        .state('home', {
            url: '/home',
            templateUrl: 'home.html'
        })
        .state('policy', {
            url: '/policy?current&tabName',
            templateUrl: 'tpl/policy/policy.html',
            controller: 'policyCtr'
        })
        .state('storage', {
            url: '/storage?current&tabName',
            templateUrl: 'tpl/storage/storage.html',
            controller: 'policyCtr'
        })
        .state('carResource', {
            url: '/carResource?current&tabName',
            templateUrl: 'tpl/publicTransportation/carResource.html',
            controller: 'policyCtr'
        })
        .state('specialService', {
            url: '/specialService?current&tabName',
            templateUrl: 'tpl/specialService/llwl.html',
            controller: 'policyCtr'
        }).state('valueAdd', {
            url: '/valueAdd?current&tabName',
            templateUrl: 'tpl/valueAdd/valueAdd.html',
            controller: 'policyCtr'
        }).state('map', {
            url: '/map',
            templateUrl: 'tpl/map/map.html',
            controller: 'policyCtr'
        }).state('dataService', {
            url: '/dataService?current&tabName',
            templateUrl: 'tpl/dataService/dataService.html',
            controller: 'policyCtr'
        })
}).controller('policyCtr', ['$scope', '$rootScope', '$stateParams', function ($scope, $rootScope, $stateParams) {
    $rootScope.data = {
        current: $stateParams.current, // 1代表第1个，2代表第2个，3代表第3个
        tabName: $stateParams.tabName // 1代表第默认选择未第一个
    };
    $rootScope.setCurrent = function (param, name) {
        $rootScope.data.current = param;
        $rootScope.data.tabName = name;
    };
}]);
